{"version":3,"file":"ionic4-tooltips.mjs","sources":["../../../projects/ionic4-tooltips/src/components/tooltip-box/tooltip-box.component.ts","../../../projects/ionic4-tooltips/src/components/tooltip-box/tooltip-box.component.html","../../../projects/ionic4-tooltips/src/models/tooltip-event.model.ts","../../../projects/ionic4-tooltips/src/controllers/tooltip.cotroller.ts","../../../projects/ionic4-tooltips/src/directives/tooltip.directive.ts","../../../projects/ionic4-tooltips/src/tooltips.module.ts","../../../projects/ionic4-tooltips/src/public_api.ts","../../../projects/ionic4-tooltips/src/ionic4-tooltips.ts"],"sourcesContent":["import { animate, state, style, transition, trigger } from '@angular/animations';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  HostBinding,\n  Input,\n  Renderer2\n} from '@angular/core';\n\n@Component({\n  selector:    'tooltip-box',\n  templateUrl: 'tooltip-box.component.html',\n  styleUrls: [\n    'tooltip-box.component.scss'\n  ],\n  animations: [\n    trigger('fade', [\n      state('visible', style({ opacity: 1 })),\n      state('invisible', style({ opacity: 0 })),\n      transition('visible <=> invisible', animate('300ms linear'))\n    ])\n  ],\n  changeDetection:ChangeDetectionStrategy.OnPush\n})\nexport class TooltipBox implements AfterViewInit {\n  @HostBinding('@fade') fadeState:string = 'invisible';\n\n  @Input() role:string = 'status';\n  @Input() text:string;\n  @Input() tooltipHtml:string;\n  @Input() tooltipStyles:{ [key:string]:string; } = {};\n\n  @Input()\n  set arrow(side:string) {\n    this.rnd.setAttribute(\n      this.getNativeElement(),\n      'class',\n      'has-arrow ' + 'arrow-' + side\n    );\n  }\n\n  @Input()\n  set posTop(val:number) {\n    this.rnd.setStyle(\n      this.getNativeElement(),\n      'top',\n      val + 'px'\n    );\n  }\n\n  @Input()\n  set posLeft(val:number) {\n    this.rnd.setStyle(\n      this.getNativeElement(),\n      'left',\n      val + 'px'\n    );\n  }\n\n  private initResolve:Function;\n\n  public init:Promise<void>;\n\n  constructor(\n    public elementRef:ElementRef,\n    private rnd:Renderer2\n  ) {\n    this.init = new Promise<void>(\n      (resolve) => {\n        this.initResolve = resolve;\n    }\n    );\n  }\n\n  getNativeElement():HTMLElement {\n    return this.elementRef.nativeElement;\n  }\n\n  ngAfterViewInit():void {\n    this.initResolve();\n  }\n}\n","<div class=\"tooltip-box\"\n     [attr.aria-role]=\"role\"\n     [ngStyle]=\"tooltipStyles\">\n  <div *ngIf=\"tooltipHtml; else txt\" [innerHTML]=\"tooltipHtml\"></div>\n\n  <ng-template #txt><div [innerHtml]=\"text\"></div></ng-template>\n</div>\n","export enum TooltipEvent {\n  CLICK = 'click',\n  HOVER = 'hover',\n  PRESS = 'press'\n}\n","import {Injectable} from '@angular/core';\nimport {TooltipDirective} from '../directives/tooltip.directive';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TooltipController {\n  public allowMultiple:boolean = true;\n  public activeTooltips:TooltipDirective[] = [];\n\n  addTooltip(instance:TooltipDirective):void {\n    if (instance.hideOthers || !this.allowMultiple && this.activeTooltips.length > 0) {\n      this.hideAll();\n    }\n\n    this.activeTooltips.push(instance);\n  }\n\n  removeTooltip(instance:TooltipDirective):void {\n    this.activeTooltips.splice(this.activeTooltips.indexOf(instance), 1);\n  }\n\n  hideAll():void {\n    this.activeTooltips.forEach(\n      (tooltip:TooltipDirective) => {\n        tooltip.removeTooltip();\n      }\n    );\n  }\n}\n","import {\n  AfterViewInit,\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport {Platform} from '@ionic/angular';\n\nimport {TooltipBox} from '../components/tooltip-box/tooltip-box.component';\nimport {TooltipController} from '../controllers/tooltip.cotroller';\nimport {TooltipEvent} from '../models/tooltip-event.model';\n\n@Directive({\n  selector: '[tooltip]',\n})\nexport class TooltipDirective implements OnInit, AfterViewInit, OnDestroy {\n  @Input() debounce:number = 0;\n  @Input() desktopEvent:TooltipEvent = TooltipEvent.HOVER;\n  @Input() event:TooltipEvent;\n  @Input() hideOthers:boolean;\n  @Input() leftOffset:number;\n  @Input() mobileEvent:TooltipEvent;\n  @Input() positionV:string;\n  @Input() positionH:string;\n  @Input() role:string;\n  @Input() tooltip:string;\n  @Input() tooltipHtml:string;\n  @Input() tooltipStyles:{ [key:string]:string; } = {};\n  @Input() topOffset:number;\n\n  @Input()\n  set navTooltip(val:boolean) {\n    this._navTooltip = typeof val !== 'boolean' || val !== false;\n  }\n\n  get navTooltip():boolean {\n    return this._navTooltip;\n  }\n\n  @Input()\n  set arrow(val:boolean) {\n    this._arrow = typeof val !== 'boolean' || val !== false;\n  }\n\n  get arrow():boolean {\n    return this._arrow;\n  }\n\n  @Input() duration = 3000;\n\n  @Input()\n  set active(val:boolean) {\n    this._active = typeof val !== 'boolean' || val !== false;\n\n    this._active && this.canShow ?\n      this.showTooltip() : this.removeTooltip();\n  }\n\n  get active():boolean {\n    return this._active;\n  }\n\n  private _active:boolean = false;\n  private _arrow:boolean = false;\n  private _canShow:boolean = true;\n  private _debouncedPromise = null;\n  private _navTooltip:boolean = false;\n  private _tooltipElement:ComponentRef<TooltipBox>;\n  private _tooltipTimeout:any;\n\n  constructor(\n    private el:ElementRef,\n    private appRef:ApplicationRef,\n    private platform:Platform,\n    private cfr:ComponentFactoryResolver,\n    private tooltipCtrl:TooltipController,\n    private vcr:ViewContainerRef,\n  ) {\n\n  }\n\n  ngOnInit() {\n    if (typeof this.event === 'undefined') {\n      this.event = this.platform.is('mobile') ?\n        this.mobileEvent : this.desktopEvent;\n    }\n\n    // if the timer hasn't expired or active is true when the component gets destroyed, the tooltip will remain in the DOM\n    // this removes it\n    this.removeTooltip();\n  }\n\n  /**\n   * Show the tooltip immediately after initiating view if set to\n   */\n  ngAfterViewInit() {\n    if (this._active) {\n      this.trigger();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._tooltipElement && typeof this._tooltipElement.destroy === 'function') {\n      this._tooltipElement.destroy();\n    }\n  }\n\n  /**\n   * Set the canShow property\n   * Ensure that tooltip is shown only if the tooltip string is not falsey\n   */\n  set canShow(show: boolean) {\n    this._canShow = show;\n  }\n\n  /**\n   * @return TRUE if the tooltip can be shown\n   */\n  get canShow():boolean {\n    return this._canShow &&\n      ((typeof this.tooltip === 'string' && this.tooltip !== '')\n        || (typeof this.tooltipHtml === 'string' && this.tooltipHtml !== ''));\n  }\n\n  /**\n   * Handles the click/press event and shows a tooltip.\n   * If a tooltip already exists, it will just reset it's timer.\n   */\n  trigger():void {\n    if (this.canShow) {\n      if (this._tooltipElement) {\n        this._resetTimer();\n      } else {\n        this.showTooltip();\n      }\n    }\n  }\n\n  /**\n   * Creates a new tooltip component and adjusts it's properties to show properly.\n   */\n  showTooltip():void {\n    this._debouncedPromise = setTimeout(\n      () => {\n        this._debouncedPromise = null;\n\n        this._createTooltipComponent();\n\n        const tooltipComponent: TooltipBox = this._tooltipElement.instance;\n\n        tooltipComponent.role = this.role;\n        tooltipComponent.text = this.tooltip;\n        tooltipComponent.tooltipStyles = this.tooltipStyles;\n        tooltipComponent.tooltipHtml = this.tooltipHtml;\n        tooltipComponent.init.then(() => {\n          const tooltipPosition = this._getTooltipPosition();\n\n          tooltipComponent.posLeft = tooltipPosition.left;\n          tooltipComponent.posTop = tooltipPosition.top;\n\n          tooltipComponent.fadeState = 'visible';\n\n          if (this.arrow) {\n            let arrowPosition;\n            if (this.positionV === 'top') {\n              arrowPosition = 'bottom';\n            } else if (this.positionV === 'bottom') {\n              arrowPosition = 'top';\n            } else if (this.positionH === 'left') {\n              arrowPosition = 'right';\n            } else {\n              arrowPosition = 'left';\n            }\n            tooltipComponent.arrow = arrowPosition;\n          }\n\n          if (!this._active) {\n            this._tooltipTimeout = setTimeout(\n              this.removeTooltip.bind(this),\n              this.duration,\n            );\n          }\n        });\n      },\n      this.debounce\n    );\n  }\n\n  @HostListener('click')\n  onClick():void {\n    if (this.event === TooltipEvent.CLICK) {\n      this.trigger();\n    }\n  }\n\n  @HostListener('press')\n  onPress():void {\n    if (this.event === TooltipEvent.PRESS) {\n      this.trigger();\n    }\n  }\n\n  @HostListener('mouseenter')\n  onMouseEnter():void {\n    if (this.event === TooltipEvent.HOVER) {\n      this.active = true;\n    }\n  }\n\n  @HostListener('mouseleave')\n  onMouseLeave():void {\n    if (this.event === TooltipEvent.HOVER) {\n      this.active = false;\n    }\n  }\n\n  private _createTooltipComponent() {\n    const componentFactory = this.cfr.resolveComponentFactory(TooltipBox);\n    this._tooltipElement = this.vcr.createComponent(componentFactory);\n    this.tooltipCtrl.addTooltip(this);\n  }\n\n  private _getTooltipPosition() {\n    const tooltipNativeElement:HTMLElement = this._tooltipElement.instance.getNativeElement(),\n      el:HTMLElement = this.el.nativeElement,\n      rect:ClientRect = el.getBoundingClientRect();\n\n    let positionLeft:number,\n      positionTop:number,\n      spacing = 10;\n\n    if (this.navTooltip) {\n      this.positionV = 'bottom';\n      this.arrow = false;\n      spacing = 20;\n    }\n\n    if (this.positionH === 'right') {\n      positionLeft = rect.right + spacing;\n    } else if (this.positionH === 'left') {\n      positionLeft = rect.left - spacing - tooltipNativeElement.offsetWidth;\n      // -79, 19\n    } else if (this.navTooltip) {\n      positionLeft = rect.left + el.offsetWidth / 2;\n    } else {\n      positionLeft = rect.left;\n    }\n\n\n    if (this.positionV === 'top') {\n      positionTop = rect.top - spacing - tooltipNativeElement.offsetHeight;\n    } else if (this.positionV === 'bottom') {\n      positionTop = rect.bottom + spacing;\n    } else {\n      positionTop = rect.top + el.offsetHeight / 2 - tooltipNativeElement.offsetHeight / 2;\n    }\n\n    this.topOffset++;\n    if (this.topOffset) {\n      positionTop += +this.topOffset;\n    }\n\n    this.leftOffset++;\n    if (this.leftOffset) {\n      positionLeft += +this.leftOffset;\n    }\n\n    if (positionLeft + tooltipNativeElement.offsetWidth + spacing > this.platform.width()) {\n      positionLeft = this.platform.width() - tooltipNativeElement.offsetWidth - spacing;\n    } else if (positionLeft + tooltipNativeElement.offsetWidth - spacing < 0) {\n      positionLeft = spacing;\n    }\n\n    if (positionTop + tooltipNativeElement.offsetHeight + spacing > this.platform.height()) {\n      positionTop = this.platform.height() - tooltipNativeElement.offsetHeight - spacing;\n    } else if (positionTop + tooltipNativeElement.offsetHeight - spacing < 0) {\n      positionTop = spacing;\n    }\n\n    return {\n      left: positionLeft,\n      top:  positionTop,\n    };\n  }\n\n  removeTooltip() {\n    if (this._debouncedPromise) {\n      clearTimeout(this._debouncedPromise);\n\n      this._debouncedPromise = null;\n    }\n\n    if (!this._tooltipElement) {\n      this._tooltipElement = undefined;\n      this._tooltipTimeout = undefined;\n      return;\n    }\n\n    this._tooltipElement.instance.fadeState = 'invisible';\n\n    this.canShow = false;\n\n    // wait for animation to finish then clear everything out\n    setTimeout(\n      () => {\n        if (\n          this._tooltipElement &&\n          typeof this._tooltipElement.destroy === 'function'\n        ) {\n          this._tooltipElement.destroy();\n        }\n        this.tooltipCtrl.removeTooltip(this);\n        this._tooltipElement = this._tooltipTimeout = undefined;\n        this.canShow = true;\n      },\n      300\n    );\n  }\n\n  private _resetTimer():void {\n    clearTimeout(this._tooltipTimeout);\n    this._tooltipTimeout = setTimeout(() => {\n      this.active = false;\n    }, this.duration);\n  }\n}\n","import {CommonModule} from '@angular/common';\nimport {ModuleWithProviders, NgModule} from '@angular/core';\n\nimport {TooltipBox} from './components/tooltip-box/tooltip-box.component';\nimport {TooltipController} from './controllers/tooltip.cotroller';\nimport {TooltipDirective} from './directives/tooltip.directive';\n\n@NgModule({\n  declarations: [\n    TooltipDirective,\n    TooltipBox\n  ],\n  entryComponents: [\n    TooltipBox\n  ],\n  exports: [\n    TooltipDirective\n  ],\n  imports: [\n    CommonModule\n  ]\n})\nexport class TooltipsModule {\n  static forRoot():ModuleWithProviders<TooltipsModule> {\n    return {\n      ngModule: TooltipsModule,\n      providers: [\n        TooltipController\n      ],\n    };\n  }\n}\n","/*\n * Public API Surface of ionic-tooltips\n */\nexport * from './components/tooltip-box/tooltip-box.component';\nexport * from './directives/tooltip.directive';\nexport * from './tooltips.module';\nexport * from './controllers/tooltip.cotroller';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1","i2.TooltipController"],"mappings":"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"}